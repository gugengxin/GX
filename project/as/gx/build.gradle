apply plugin: 'com.android.model.library'

model {
    android {
        compileSdkVersion 23
        buildToolsVersion "24.0.0 rc3"

        defaultConfig {
            minSdkVersion.apiLevel 9
            targetSdkVersion.apiLevel 23
            versionCode 1
            versionName "1.0"
        }
        ndk {
            moduleName "GX"
            CFlags.add("-DGX_OS_ANDROID -Wno-multichar -fvisibility=hidden")
            cppFlags.add("-DGX_OS_ANDROID -std=c++11 -fno-rtti -fvisibility=hidden")
            ldLibs.add("log")
            ldLibs.add("EGL")
            ldLibs.add("GLESv2")
            ldLibs.add("android")
            ldLibs.add("OpenSLES")
        }
        buildTypes {
            debug {
                ndk {
                    CFlags.add("-DGX_DEBUG")
                    cppFlags.add("-DGX_DEBUG")
                }
            }
            release {
                minifyEnabled false
                proguardFiles.add(file('proguard-android.txt'))
            }
        }

        sources {
            main {
                jni {
                    exportedHeaders {
                        srcDir "../../../src"
                    }
                    source {
                        srcDir "src/main/jni"
                        srcDir "../../../src"
                        srcDir "../../../src/native_app_glue"
                    }
                }
            }
        }
    }
}
dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
}
